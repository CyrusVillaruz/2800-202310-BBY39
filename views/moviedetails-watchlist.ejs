<%- include("templates/header") %> 
<div class="navbar navbar-light bg-light text-black" style="overflow: hidden; position: fixed; top: 0; width: 100%; margin: auto; z-index: 9999; display: flex; align-items: center;">
  <div style="flex-shrink: 0;">
      <a class="nav-link" href="/watchlist" style="display: flex; align-items: center;">
          <img src="/arrow.png" width="30" height="30" alt="back icon">
      </a>
  </div>
  <div style="flex-grow: 1; text-align: center; overflow: hidden;">
      <h3 style="white-space: nowrap; overflow: hidden; margin: 0; font-size: calc(18px + (24 - 18) * ((100vw - 320px) / (1920 - 320))); max-width: 100%;"><%= movie.Title %></h3>
  </div>
  <div style="flex-shrink: 0; width: 30px;"></div>
</div>

<div class="container" style="margin-top: 100px;">
    <div class="card p-3">
        <img class="" src ="<%= movie.Poster_Url %>" width="100" height="100" alt="movie poster">
        <h3 class="lead">Original Language: <%=movie.Original_Language %></h3>
        <p class="">
            <b>Genre:</b>

        </p>
        <h3 class="lead"> Rating: <%=movie.Vote_Average %></h3>
    </div>

    <div class="card p-3">
        <h3 class="display-6">Description:</h3>
        <p class=""><%= movie.Overview %></p>
    </div>  
    
    <div class="card p-3">
        <form action="/change-watchlist?movieId=<%= movie._id %>" method="POST" style="display: flex; justify-content: space-between; align-items: start; position: relative;">
            <label><h5>Status:</h5></label>
            <select name="status">
              <% const watchedStatus = movie.Watched; %>
              <option value="<%= watchedStatus %>"><%= watchedStatus %></option>
              <% if (watchedStatus !== 'Plan to Watch') { %>
                <option value="Plan to Watch">Plan to Watch</option>
              <% } %>
              <% if (watchedStatus !== 'Currently Watching') { %>
                <option value="Currently Watching">Currently Watching</option>
              <% } %>
              <% if (watchedStatus !== 'Completed') { %>
                <option value="Completed">Completed</option>
              <% } %>
              <% if (watchedStatus !== 'Dropped') { %>
                <option value="Dropped">Dropped</option>
              <% } %>
            </select>
            <input type="submit" value="Submit">
        </form>
      </div> 

      
      <div class="card p-3">
        <h3 class="lead">Watched: <%=movie.Watched %></h3>
      </div>
      
      <div class="card p-3">
        <h3 class="lead">Release Date: <%=movie.Release_Date %></h3>
    </div>    
</div>

<%- include("templates/bottomnav") %>